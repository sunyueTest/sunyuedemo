<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <link rel="stylesheet" th:href="@{/static/layui/css/layui.css}" media="all">
    <link rel="stylesheet" th:href="@{/static/css/common.css}" media="all">
    <link rel="stylesheet" th:href="@{/static/css/agriculture/agricultureIndex.css}" media="all">
    <script th:src="@{/static/js/jquery.min.js?v=2.1.4}"></script>
    <script th:src="@{/static/chart/echarts.min.js?v=1.0}"></script>
    <script th:src="@{/static/js/china.js?v=1.0}"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=5u3R0Gc74WVv6T6sM8R6NQieZQaCK7Pr"></script>
    <script th:src="@{/static/layui/layui.js}"></script>
    <script th:src="@{/static/js/ezuikit.js?v=1.0}"></script>
    <script src="/static/i18n/jquery.i18n.properties.js"></script>
    <script src="/static/js/common.js" charset="utf-8"></script>
    <script th:src="@{/static/js/agriculture/agricultureIndex.js}"></script>
    <script th:src="@{/static/js/fullScreen.js}" charset="utf-8"></script>
</head>
<style>
    body{
        width: 100vw;
        height:100vh;
        overflow: hidden;
    }
    .layui-nav .layui-nav-item .base{
        text-align: center;transition: all 0.5s;
    }

    body .contentBox .layui-nav .baseac{
        background: rgba(0,0,0,0.1)!important;
    }
    body .contentBox .base:hover{
        cursor: pointer;
    }
    .layui-nav-bar{display: none!important;}
    .xmbg{
        background: rgba(255,255,255,0.1);
    }
    .xmbg:hover{
        background: rgba(255,255,255,0.1)!important;
    }
    .layui-nav{
        background-color: transparent!important;
    }
    .gs{
        background:rgba(0,0,0,0.2)!important;
        margin: 0.5vh 0;
    }
    .layui-nav-itemed>.layui-nav-child{
        background-color: transparent!important;
    }
    .nav-jd{margin: 0.5vh 0;}
    .base{margin: 0.5vh 0;}
    /*.gs{font-size: 1.1vw;max-font-size: 12px}*/
    /*.xmbg{font-size: 0.9vw;max-font-size: 12px}*/
    /*.item{font-size: 0.7vw;max-font-size: 12px}*/
    #mapContainer{background: #0a325c!important;
        font-size: 60px !important;
    }
    /*设置轮播图的效果*/
    .tablebox {
        height: 220px;
        width: 450px;
        overflow: hidden;
        position: absolute;
        bottom: 5px;
        right: 10px;
    }
    .tbl-header {
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 999;
    }
    .tbl-body {
        width: 100%;
        height: 80%;
        position: absolute;
        top: 20px;
        left: 0;
    }
    .tablebox table {
        width: 100%;
    }
    .tablebox table th,
    .tablebox table td {
        font-size: 12px;
        color: #7ca6f4;
        line-height: 35px;
        text-align: center;
    }
    .tablebox table tr th {
        cursor: pointer;
    }
    .tablebox table tr td {
    }
    .tbl-body tr:nth-child(even) td,.tbl-body1 tr:nth-child(even) td {
    }
    .tablebox table tr td span,
    .tablebox table tr td span {
        font-size: 12px;
    }
</style>
<body>
<div class="contentBox">
    <div id="mapContainer" style="width:100%;">
    </div>
    <div class="leftBoxMb isMap">
    </div>
    <div class="leftBox isMap" style="overflow: auto">
        <div class="leftBoxEnterprise">
            <div>
                <ul class="layui-nav layui-nav-tree" lay-filter="test" style="width: 95%;margin: 0 auto;margin-top: 3vh" id="nav-left">
                </ul>
            </div>
        </div>
    </div>
    <div class="rightBox isMap">
        <a href="http://www.macromedia.com/go/getflashplayer" target="_blank">请点击此处下载安装最新的flash插件</a>
        <div class="rightOneBoxMb"></div>
        <div class="rightOneBox">
                <div class="rightBoxTitleBox">
                    <img class="rightTitleBoxIcon" src="../../static/img/agriculture/camera.png" />
                    <div class="rightTitleTextBox">
                        <p class="RightTitleTextTop"></p>
                        <p class="RightTitleText">监控设备</p>
                        <p class="RightTitleTextBottom"></p>
                    </div>
                    <img class="rightTitleTurnOn" src="../../static/img/agriculture/pointRight.png" />
                </div>
            <div class="rightOneRightBox">
                <div class="rightOneBoxTop">
                    <img class="rightOneBoxPhoto" style="display:none;" src="../../static/img/agriculture/farmerPhoto.jpg" />
                    <div class="rightOneBoxTopMsg">
                        <p class="p1"></p>
                        <p class="p2"></p>
                        <p class="p3"></p>
                    </div>
                </div>
                <div class="cameraBox" style="height: 34vh;">
                    <div class="cameraOne camera">
                    </div>
                    <img class='cameraNoMsg' src="../../static/img/agriculture/noMsg.png" />
                </div>
            </div>
        </div>
        <div class="rightTwoBoxMb">
            <div id="dangerCharts" style="width: 280px;height: 280px;z-index: 999">
            </div>
            <div style="margin-top: 80px;margin-left: 310px;width: 200px;height: 300px">
                <p style="margin-top: 10px"><span class="dangerIcon cyellow"></span><span class="dangerText A">湿度<62%</span></p>
                <p style="margin-top: 10px"><span class="dangerIcon cyellow"></span><span class="dangerText B">温度阈值：-10℃</span></p>
                <p style="margin-top: 10px"><span class="dangerIcon cyellow"></span><span class="dangerText C">温度：45℃</span></p>
                <p style="margin-top: 10px"><span class="dangerIcon cRed"></span><span class="dangerText D">土壤湿度：50RH%</span></p>
                <p style="margin-top: 10px"><span class="dangerIcon cRed"></span><span class="dangerText E">温度>28℃</span></p>
                <p style="margin-top: 10px"><span class="dangerIcon cRed"></span><span class="dangerText F">土壤PH>6.5</span></p>
            </div>
        </div>
        <div class="rightTwoBox">
            <div class="rightBoxTitleBox">
                <img class="rightTitleBoxIcon" src="../../static/img/agriculture/dangerMsg.png" />
                <div class="rightTitleTextBox">
                    <p class="RightTitleTextTop"></p>
                    <p class="RightTitleText">预警信息</p>
                    <p class="RightTitleTextBottom"></p>
                </div>
                <img class="rightTitleTurnOn" src="../../static/img/agriculture/pointRight.png" />
            </div>
        </div>
        <div class="rightThreeBoxMb">
        </div>
        <div class="rightThreeBox">
            <div class="allMapTitleBox">
                <div class="allMapTitle">
                    <img class="allMapTitleImg" src="../../static/img/agriculture/allSee.png" />
                    <span class="allMapTitleText">当前区域全景图</span>
                </div>
                <span class="allMapCloseBtn" ></span>
            </div>
            <div id="allMapBox">
            </div>
        </div>
        <div class="rightFourBoxMb">
        </div>
        <div class="rightFourBox">
            <div class="rightBoxTitleBox">
                <img class="rightTitleBoxIcon" src="../../static/img/agriculture/device.png" />
                <div class="rightTitleTextBox">
                    <p class="RightTitleTextTop"></p>
                    <p class="RightTitleText">设备状态</p>
                    <p class="RightTitleTextBottom"></p>
                </div>
                <img class="rightTitleTurnOn" src="../../static/img/agriculture/pointLeft.png" />
            </div>
            <div id="devicePie" style="width: 480px;height: 220px;z-index: 999">
            </div>
        </div>
        <div class="rightFiveBoxMb">
        </div>
        <div class="rightFiveBox">
            <div class="rightBoxTitleBox">
                <img class="rightTitleBoxIcon" src="../../static/img/agriculture/data.png" />
                <div class="rightTitleTextBox">
                    <p class="RightTitleTextTop"></p>
                    <p class="RightTitleText">设备实时数据</p>
                    <p class="RightTitleTextBottom"></p>
                </div>
                <img class="rightTitleTurnOn" src="../../static/img/agriculture/pointLeft.png" />
            </div>
            <div id="environmentBar" style="width: 480px;height: 220px;z-index: 999">
            </div>
            <img class='environmentBarNoMsg' src="../../static/img/agriculture/noMsg.png" />
        </div>
        <div class="rightSixBoxMb">
            <div class="tablebox">
                <div class="tbl-header">
                    <table border="0" cellspacing="0" cellpadding="0">
                        <thead>
                        <tr>
                            <th style="width:35%; font-size: 24px;background-color:#04507B">设备编号</th>
                            <th style="width:65%; font-size: 24px;background-color:#04507B">设备名称</th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div class="tbl-body">
                    <table border="0" cellspacing="0" cellpadding="0">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="rightSixBox">
            <div class="rightBoxTitleBox">
                <img class="rightTitleBoxIcon" src="../../static/img/agriculture/placeMsg.png" />
                <div class="rightTitleTextBox">
                    <p class="RightTitleTextTop"></p>
                    <p class="RightTitleText">设备列表</p>
                    <p class="RightTitleTextBottom"></p>
                </div>
                <img class="rightTitleTurnOn" src="../../static/img/agriculture/pointLeft.png" />
            </div>
            <div id="landBar">
            </div>
            <img class='landBarNoMsg' src="../../static/img/agriculture/noMsg.png"/>
        </div>
    </div>
</div>
</body>
<!--左侧点击菜单列表展示-->
<script>
    var ids;
    function eventBindClick(obj) {
        let val = obj.innerText;
        $.ajax({
            url: "/projectBaseScene/findProjectByName",
            dataType: "json",
            type: "post",
            data: {name:val},
            timeout: 30000,
            error: function (data, type, err) {
                layer.closeAll('loading');
                layer.msg($.i18n.prop('fail'), {
                    offset: '6px'
                });
            },
            success: function (result) {
                var shebei = result.datas[0].website;
                ids = shebei.split(",");
                console.log(ids)
            }
        });
    }
</script>
<!--设备状态统计-->
<script>
    var devicePie = echarts.init(document.getElementById("devicePie"));
    data1 = [
        {
        name: "在线设备",
        value: 12
    },
        {
            name: "车载设备",
            value: 6
        },
        {
            name: "冷库设备",
            value: 4
        },
        {
            name: "故障设备",
            value: 2
        }
    ];
    colorList2=[
        {
            c1:"rgba(46, 149, 246, 1)",
            c2:"rgba(26, 85, 145, 1)"
        },
        {
            c1:"rgba(249, 203, 25, 1)",
            c2:"rgba(116, 92, 0, 1)"
        },
        {
            c1:"rgba(0, 175, 121, 1)",
            c2:"rgba(0, 95, 66, 1)"
        },
        {
            c1:"rgba(237, 72, 94, 1)",
            c2:"rgba(120, 0, 16, 1)"
        }
    ]
    arrName = getArrayValue(data1, "name");
    arrValue = getArrayValue(data1, "value");
    sumValue =getsumValue(data1,"value");
    optionData = getData(data1)
    function getsumValue(array ,key){
        let sum=0;
        for(let i=0;i<array.length;i++){
            sum=sum+array[i].value
        }
        return sum;
    }
    function getArrayValue(array, key) {
        var key = key || "value";
        var res = [];
        if (array) {
            array.forEach(function(t) {
                res.push(t[key]);
            });
        }
        return res;
    }
    function getData(data1) {
        var res = {
            series: [],
            yAxis: [],
            formatter:[],
        };
        for (let i = 1; i <= data1.length; i++) {

            res.series.push({
                name: '状态',
                type: 'pie',
                clockWise: true,
                z: 2,
                hoverAnimation: false,
                radius: [73 - i * 15 + '%', 65 - i * 15 + '%'],
                center: ["30%", "55%"],
                label: {
                    show: false
                },
                labelLine: {
                    show: false
                },
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: colorList2[i-1].c2,
                        },
                            {
                                offset: 1,
                                color:colorList2[i-1].c1,
                            },
                        ]),
                    },
                },
                data: [{
                    value: data1[i-1].value,
                    name: data1[i-1].name
                }, {
                    value: sumValue - data1[i-1].value,
                    name: '',
                    itemStyle: {
                        color: "rgba(0,0,0,0)",
                        borderWidth: 0
                    },
                    tooltip: {
                        show: false
                    },
                    label: {
                        show: false
                    },
                    hoverAnimation: false
                }]
            });
            res.series.push({
                name: '背景线',
                type: 'pie',
                silent: true,
                z: 1,
                clockWise: true,
                hoverAnimation: false,
                radius: [71 - i * 15 + '%', 69 - i * 15 + '%'],
                center: ["30%", "55%"],
                label: {
                    show: false
                },
                itemStyle: {
                    label: {
                        show: false,
                    },
                    labelLine: {
                        show: false
                    },
                    borderWidth: 5,
                },
                data: [{
                    value: 100,
                    itemStyle: {
                        color: "RGB(12,64,128)",
                        borderWidth: 0
                    },
                    tooltip: {
                        show: false
                    },
                    hoverAnimation: false
                }]
            });
            res.yAxis.push(data1[i-1].name);
        }
        return res;
    }
    sbzt = {
        grid: {
            top: '16%',
            bottom: '54%',
            left: "50%",
            containLabel: false
        },
        legend: {
            bottom: 6,
            icon: "rect",
            orient: 'vertical',
            itemHeight: 10,
            itemWidth: 10,
            left: 280,
            top: 60,
            show: true,
            data: arrName,
            selectedMode: false,
            textStyle: {
                color: "#96F5F6",
                fontSize: 16
            },
            formatter: function(name) {
                let tarValue
                for (var i = 0; i < 4; i++) {
                    if (data1[i].name == name) {
                        tarValue = data1[i].value;
                        break;
                    }
                }
                var p = Math.round(((tarValue / sumValue) * 1000))/10;
                return `${name}     ${p}%`;
            },

        },
        yAxis: [{
            type: 'category',
            inverse: true,
            z: 3,
            axisLine: {
                show: false
            },
            axisTick: {
                show: false
            },
            axisLabel: {
                show:false,
                interval: 0,
                inside: false,
                textStyle: {
                    color: "RGB(78,184,252)",
                    fontSize: 25,
                },
            },
            data: optionData.yAxis
        }],
        xAxis: [{
            show: false
        }],
        series: optionData.series
    };
    devicePie.setOption(sbzt);
</script>
<!--设备信息列表展示-->
<script>
    var MyMarhq = '';
    clearInterval(MyMarhq);
    $('.tbl-body tbody').empty();
    $('.tbl-header tbody').empty();
    var str = '';
    var Items = [];
    function getDeviceList(){
        $.ajax({
            url:"/expertManage/findDiseaseList",
            type:"POST",
            data:{
                page:0,
                diseasesTypesId:0,
                diseases_name:"",
            },
            success: function(result){
                for (var i=0;i<result.datas.length;i++){
                    var name = result.datas[i].diseasesName;
                    var value = result.datas[i].ids;
                    Items.push({
                        "Ranking":name,
                        "City":value
                    });
                    str = '<tr>'+
                        '<td style="width:35%; font-size: 16px">'+Items[i].Ranking+'</td>'+
                        '<td style="width:75%; font-size: 16px">'+Items[i].City+'</td>'+
                        '</tr>'
                    $('.tbl-body tbody').append(str);
                }
                if(Items.length > 10){
                    $('.tbl-body tbody').html($('.tbl-body tbody').html()+$('.tbl-body tbody').html());
                    $('.tbl-body').css('top', '0');
                    var tblTop = 0;
                    var speedhq = 50; // 数值越大越慢
                    var outerHeight = $('.tbl-body tbody').find("tr").outerHeight();
                    function Marqueehq(){
                        if(tblTop <= -outerHeight*Items.length){
                            tblTop = 0;
                        } else {
                            tblTop -= 1;
                        }
                        $('.tbl-body').css('top', tblTop+'px');
                    }
                    MyMarhq = setInterval(Marqueehq,speedhq);
                    // 鼠标移上去取消事件
                    $(".tbl-header tbody").hover(function (){
                        clearInterval(MyMarhq);
                    },function (){
                        clearInterval(MyMarhq);
                        MyMarhq = setInterval(Marqueehq,speedhq);
                    })
                }
            }
        })
    }
    getDeviceList();
</script>
<!--预警信息图展示-->
<script>
    var yujing = echarts.init(document.getElementById("dangerCharts"));
    var dataname = ['温度' ,'湿度' ,'光照' ,'降雨' ,'PH' ,'风速']
    var datamax = [20, 20, 20, 20, 20,20]
    var datavaule = [10, 16, 20, 15, 12,18]
    var indicator = []
    for (var i = 0; i < dataname.length; i++) {
        indicator.push({
            name: dataname[i],
            max: datamax[i],
        })
    }
    function contains(arrays, obj) {
        var i = arrays.length;
        while (i--) {
            if (arrays[i] === obj) {
                return i;
            }
        }
        return false;
    }
    option = {
        tooltip: {
            show: false,
            trigger: "item",
        },
        radar: {
            center: ["50%", "50%"],
            radius: "65%",
            startAngle: 240,
            splitNumber: 5,
            splitArea: {
                areaStyle: {
                    color: [
                        'rgba(0,96,208, 0.1)', 'rgba(0,96,208, 0.2)',
                        'rgba(0,96,208, 0.4)', 'rgba(0,96,208, 0.6)',
                        'rgba(0,96,208, 0.8)', 'rgba(0,96,208, 1)'
                    ].reverse()
                }
            },
            axisLabel: {
                show: false,
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: "transparent"
                }
            },
            splitLine: {
                show: true,
                lineStyle: {
                    color: "transparent"
                }
            },
            name: {
                formatter:function(value){
                    var i = contains(dataname, value);
                    var percent = datavaule[i];
                    var ret = "";//拼接加\n返回的类目项
                    var maxLength = 6;//每项显示文字个数
                    var valLength = value.length;//X轴类目项的文字个数
                    var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数
                    if (rowN > 1)//如果类目项的文字大于6,
                    {
                        var temp = "";//每次截取的字符串
                        var start = 0;//开始截取的位置
                        var end = maxLength;//结束截取的位置
                        temp = value.substring(start, end)+'\n'+value.substring(end, valLength)
                        ret += temp; //凭借最终的字符串
                        return '{a|' + percent + '}\n' + '{b|' + ret + '}'
                    }
                    else{
                        return '{a|' + percent + '}\n' + '{b|' + value + '}'
                    }
                },
                textStyle: {
                    rich: {
                        a: {
                            color: '#FFFFFF',
                            fontSize: 15,
                            padding: [0, 0],
                            lineHeight:20,
                        },
                        b: {
                            color: '#CAEEFF',
                            fontSize: 15,
                            padding: [0, 0],
                            lineHeight:20,
                        }
                    },
                },
            },
            indicator: indicator
        },
        series: [{
            type: "radar",
            symbol: "circle",
            symbolSize: 7,
            areaStyle: {
                normal: {
                    color: 'rgba(170, 216, 255, 0)',
                }
            },
            itemStyle: {
                color: '#84E1FF',
                borderColor: '#00A7FE',
                borderWidth: 1,
            },
            lineStyle: {
                normal: {
                    color: "#00A7FE",
                    width: 2
                }
            },
            data: [datavaule]
        }]
    };
    yujing.setOption(option);
</script>
<!--设备实时数据-->
<script>
    var environmentBar = echarts.init(document.getElementById("environmentBar"));
    let xLabel = ['3.26', '3.27', '3.28', '3.29', '3.30', '3.31'];
    let goToSchool = ['40', '60', '22', '85', '50', '40'];
    let goOutSchool = ['20', '50', '12', '65', '30', '60'];
    wdsd = {
        tooltip: {
            trigger: 'axis',
            backgroundColor: 'transparent',
            axisPointer: {
                lineStyle: {
                    color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 0,
                        y2: 1,
                        colorStops: [
                            {
                                offset: 0,
                                color: 'rgba(126,199,255,0)', // 0% 处的颜色
                            },
                            {
                                offset: 0.5,
                                color: 'rgba(126,199,255,1)', // 100% 处的颜色
                            },
                            {
                                offset: 1,
                                color: 'rgba(126,199,255,0)', // 100% 处的颜色
                            },
                        ],
                        global: false, // 缺省为 false
                    },
                },
            },
            formatter: (p) => {
                let dom = `<div style="width: 79px;
                height: 50px;color:#fff;position: relative;">
                    <svg style="position: absolute;top: 50%;
                left: 50%;
                transform: translateX(-50%) translateY(-50%);" class="svg" xmlns="http://www.w3.org/2000/svg" width="100" height="71" viewBox="0 0 84 55">
                  <defs>
                    <style>
                      .cls-1 {
                        fill: #07172c;
                        fill-opacity: 0.8;
                        stroke: #a7d8ff;
                        stroke-linejoin: round;
                        stroke-opacity: 0.2;
                        stroke-width: 1px;
                        fill-rule: evenodd;
                      }

                    </style>
                  </defs>
                  <path id="矩形_419" data-name="矩形 419" class="cls-1" d="M266,595h74v50H266V624.046L261,620l5-3.984V595Z"
                    transform="translate(-258.5 -592.5)" />
                </svg>
                    <div style="padding: 4px 8px 4px 14px;display: flex;
                    justify-content: center;
                    align-items: center;
                    flex-direction: column;position: relative;z-index: 1;">
                        <div style="margin-bottom: 4px;width:120%;display:${
                                p[0] ? 'flex' : 'none'
                            };justify-content:space-between;align-items:center;">
                            <span style="font-size:14px;color:#7ec7ff;">${p[0] ? p[0].seriesName : ''}：</span>
                            <span style="font-size:14px;color:#7ec7ff;">${p[0]  +"℃" ? p[0].data +"℃"  : "0℃" }</span>
                        </div>
                        <div style="width:120%;height:100%;display:${
                                p[1] ? 'flex' : 'none'
                            };justify-content:space-between;align-items:center;">
                            <span style="font-size:14px;color:#7ec7ff;">${p[1] ? p[1].seriesName : ''}：</span>
                            <span style="font-size:14px;color:#7ec7ff;">${p[1]+"%" ? p[1].data+"%"  : "0rh%" }</span>
                        </div>
                    </div>
                </div>`;
                return dom;
            },
        },
        legend: {
            align: 'left',
            right: '3%',
            top: '6%',
            type: 'plain',
            textStyle: {
                color: '#7ec7ff',
                fontSize: 16,
            },
            itemGap: 25,
            itemWidth: 18,
            icon: 'path://M0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z',
            data: [
                {name: '温度'},
                {name: '湿度'}
            ],
        },
        grid: {
            top: '5%',
            left: '10%',
            right: '6%',
            bottom: '18%',
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                axisLine: {
                    //坐标轴轴线相关设置。数学上的x轴
                    show: true,
                    lineStyle: {
                        color: '#233653',
                    },
                },
                // axisLabel: {
                //     //坐标轴刻度标签的相关设置
                //     textStyle: {
                //         color: '#7ec7ff',
                //         padding: 16,
                //         fontSize: 14,
                //     },
                //     formatter: function (data) {
                //         return data;
                //     },
                // },
                // splitLine: {
                //     show: true,
                //     lineStyle: {
                //         color: '#192a44',
                //     },
                // },
                axisTick: {
                    show: false,
                },
                data: xLabel,
            },
        ],
        yAxis: [
            {
                name: '',
                nameTextStyle: {
                    color: '#7ec7ff',
                    fontSize: 16,
                    padding: 10,
                },
                min: 0,
                splitLine: {
                    show: false,
                    lineStyle: {
                        color: '#192a44',
                    },
                },
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#233653',
                    },
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#7ec7ff',
                        padding: 16,
                    },
                    formatter: function (value) {
                        if (value === 0) {
                            return value;
                        }
                        return value;
                    },
                },
                axisTick: {
                    show: false,
                },
            },
        ],
        series: [
            {
                name: '温度',
                type: 'line',
                symbol: 'circle', // 默认是空心圆（中间是白色的），改成实心圆
                showAllSymbol: true,
                symbolSize: 0,
                smooth: true,
                lineStyle: {
                    normal: {
                        width: 5,
                        color: 'rgba(25,163,223,1)', // 线条颜色
                    },
                    borderColor: 'rgba(0,0,0,.4)',
                },
                itemStyle: {
                    color: 'rgba(25,163,223,1)',
                    borderColor: '#646ace',
                    borderWidth: 2,
                },
                tooltip: {
                    show: true,
                },
                areaStyle: {
                    //区域填充样式
                    normal: {
                        //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。
                        color: new echarts.graphic.LinearGradient(
                            0,
                            0,
                            0,
                            1,
                            [
                                {
                                    offset: 0,
                                    color: 'rgba(25,163,223,.3)',
                                },
                                {
                                    offset: 1,
                                    color: 'rgba(25,163,223, 0)',
                                },
                            ],
                            false
                        ),
                        shadowColor: 'rgba(25,163,223, 0.5)', //阴影颜色
                        shadowBlur: 20, //shadowBlur设图形阴影的模糊大小。配合shadowColor,shadowOffsetX/Y, 设置图形的阴影效果。
                    },
                },
                data: goToSchool,
            },
            {
                name: '湿度',
                type: 'line',
                symbol: 'circle', // 默认是空心圆（中间是白色的），改成实心圆
                showAllSymbol: true,
                symbolSize: 0,
                smooth: true,
                lineStyle: {
                    normal: {
                        width: 5,
                        color: 'rgba(10,219,250,1)', // 线条颜色
                    },
                    borderColor: 'rgba(0,0,0,.4)',
                },
                itemStyle: {
                    color: 'rgba(10,219,250,1)',
                    borderColor: '#646ace',
                    borderWidth: 2,
                },
                tooltip: {
                    show: true,
                },
                areaStyle: {
                    //区域填充样式
                    normal: {
                        //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。
                        color: new echarts.graphic.LinearGradient(
                            0,
                            0,
                            0,
                            1,
                            [
                                {
                                    offset: 0,
                                    color: 'rgba(10,219,250,.3)',
                                },
                                {
                                    offset: 1,
                                    color: 'rgba(10,219,250, 0)',
                                },
                            ],
                            false
                        ),
                        shadowColor: 'rgba(10,219,250, 0.5)', //阴影颜色
                        shadowBlur: 20, //shadowBlur设图形阴影的模糊大小。配合shadowColor,shadowOffsetX/Y, 设置图形的阴影效果。
                    },
                },
                data: goOutSchool,
            },
        ],
    };
    let len = 0;
    setInterval(() => {
        if (len === xLabel.length) {
            len = 0;
        }
        environmentBar.dispatchAction({
            type: 'showTip',
            seriesIndex: 0,
            dataIndex: len,
        });
        len++;
    }, 1000);
    environmentBar.setOption(wdsd);
</script>
</html>





